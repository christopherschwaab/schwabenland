# Copyright 2013 Alex Elsayed
# Distributed under the terms of the GNU General Public License v2

require hackage

SUMMARY="Lenses, Folds and Traversals"
DESCRIPTION="
This package comes \"Batteries Included\" with many useful lenses for the types
commonly used from the Haskell Platform, and with tools for automatically
generating lenses and isomorphisms for user-supplied data types.

The combinators in @Control.Lens@ provide a highly generic toolbox for composing
families of getters, folds, isomorphisms, traversals, setters and lenses and their
indexed variants.
"

LICENCES="BSD-3"
PLATFORMS="~amd64"
MYOPTIONS=""

DEPENDENCIES="
    build+run:
        dev-lang/ghc

    $(haskell_lib_dependencies "
        dev-haskell/array[>=0.3.0.2&<0.6]
        dev-haskell/bifunctors[=4*]
        dev-haskell/bytestring[>=0.9.1.10&<0.11]
        dev-haskell/comonad[=4*]
        dev-haskell/containers[>=0.4.0&<0.6]
        dev-haskell/contravariant[>=0.3&<1]
        dev-haskell/distributive[>=0.3&<1]
        dev-haskell/filepath[>=1.2.0.0&<1.4]
        dev-haskell/generic-deriving[>=1.4&<1.7]
        dev-haskell/hashable[>=1.1.2.3&<1.3]
        dev-haskell/MonadCatchIO-transformers[=0.3*]
        dev-haskell/mtl[>=2.0.1&<2.2]
        dev-haskell/parallel[>=3.1.0.1&<3.3]
        dev-haskell/profunctors[=4*]
        dev-haskell/reflection[>=1.1.6&<2]
        dev-haskell/semigroupoids[=4*]
        dev-haskell/semigroups[>=0.8.4&<1]
        dev-haskell/split[=0.2*]
        dev-haskell/tagged[>=0.4.4&<1]
        dev-haskell/template-haskell[>=2.4&<2.10]
        dev-haskell/text[=0.11*]
        dev-haskell/transformers[>=0.2&<0.4]
        dev-haskell/transformers-compat[>=0.1&<1]
        dev-haskell/unordered-containers[=0.2*]
        dev-haskell/vector[>=0.9&<0.11]
        dev-haskell/void[>=0.5&<1]
    ")

    $(haskell_test_dependencies "
        dev-haskell/QuickCheck[>=2.4]
        dev-haskell/test-framework[>=0.6]
        dev-haskell/test-framework-quickcheck2[>=0.2]
        dev-haskell/test-framework-th[>=0.2]
        dev-haskell/HUnit[>=1.2]
        dev-haskell/test-framework-hunit[>=0.2]
        dev-haskell/directory[>=1.0]
        dev-haskell/deepseq
        dev-haskell/doctest[>=0.9.1]
        dev-haskell/nats
        dev-haskell/simple-reflect[>=0.3.1]
        dev-haskell/criterion
    ")
"

CABAL_SRC_CONFIGURE_PARAMS=(
    '--flag=old-semigroups'
)

