# Copyright 2013 Christopher Schwaab
# Distributed under the terms of the GNU General Public License v2

AT_M4DIR=m4
require github [ user=joyent ] \
        autotools [ supported_autoconf=[ 2.5 ] supported_automake=[ 1.12 ] ]

SUMMARY="Cross-platform asynchronous I/O."
HOMEPAGE="https://github.com/joyent/libuv"

LICENCES="MIT"
SLOT="0"
RESTRICT="test"

WORK="${WORKBASE}/${PN}-${PV}"

export_exlib_phases src_prepare

libuv_src_prepare() {
    mkdir -p m4
    echo "m4_define([UV_EXTRA_AUTOMAKE_FLAGS], [])" \
      > m4/libuv-extra-automake-flags.m4
    autotools_src_prepare
}
