# Copyright 2014 Christopher Schwaab
# Distributed under the terms of the GNU General Public License v2

require autotools [ supported_autoconf=[ 2.5 ] supported_automake=[ 1.13 ] ]

SUMMARY="A general purpose malloc(3) avoiding fragmentation and emphasizing scalable concurrency support."
DESCRIPTION="
"
HOMEPAGE="http://www.canonware.com/jemalloc/"
DOWNLOADS="http://www.canonware.com/download/${PN}/${PNV}.tar.bz2"

LICENCES=""
SLOT="0"
PLATFORMS="~x86 ~amd64"
# FIXME test these
MYOPTIONS="
    debug [[
        description = [ Build debugging code. ]
        requires = ivsalloc ]]
    prof [[ description = [ Enable allocation profiling. ] ]]
    ivsalloc [[ description = [ Validate pointers passed through the public API. ] ]]
    xmalloc [[ description = [ Support xmalloc option. ] ]]
"

BUGS_TO="christopher.schwaab@gmail.com"

DEFAULT_SRC_CONFIGURE_OPTION_ENABLES=( debug prof ivsalloc xmalloc )
